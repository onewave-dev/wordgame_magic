# wordgame_magic

## Команды

- `/newgame` — создать новую игру
- `/join` — вручную вступить в текущую игру (обычно не требуется: приглашённые игроки переходят по ссылке, бот открывает личный чат, спрашивает имя и подключает автоматически)
- `/quit` или `/exit` — прервать текущую игру

## Присоединение по приглашению

Приглашённый игрок открывает ссылку приглашения. Бот запускается в личном чате, сразу запрашивает имя и после ввода добавляет участника к игре. Все взаимодействие происходит в этом приватном чате; кнопка «Присоединиться» не используется.

## Тестовая игра для администратора

Администратор (ID задаётся переменной окружения `ADMIN_ID`) может в личном чате выбрать
режим `[адм.] Тестовая игра`. В этом режиме:

- создаётся отдельная игра в личном чате;
- автоматически добавляется виртуальный игрок **Bot** (раз в 30 секунд отправляет
  валидное слово);
- кнопки приглашения не появляются — сразу предлагается выбрать базовое слово.

## ⚡ Быстрый старт локально

1. Создайте `.env` или экспортируйте переменные окружения.
2. Установите зависимости:
   ```
   pip install -r requirements.txt
   ```
3. Запустите сервер:
   ```
   uvicorn app:app --host 0.0.0.0 --port 8000
   ```
4. Для вебхука нужен туннель (ngrok / cloudflared).
   Установите `PUBLIC_URL` и вызовите:
   ```
   GET /set_webhook
   ```
5. Чтобы бот видел слова игроков, отключите режим приватности у @BotFather или повысьте бота до администратора в этом чате.
